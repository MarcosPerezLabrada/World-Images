(()=>{"use strict";var e={4835:(e,t,n)=>{n(6992),n(8674),n(9601),n(7727);var r=n(9963),s=n(6252),a={key:0},i={key:3,class:"div-message"},o=(0,s._)("p",null,"There are not images to show. Type a query.",-1),c=[o],l={key:1},u={class:"text-white bg-dark",id:"footer"};function d(e,t,n,r,o,d){var h=this,p=(0,s.up)("Header"),m=(0,s.up)("Navbar"),f=(0,s.up)("Search"),v=(0,s.up)("Invoice"),g=(0,s.up)("Sellers"),b=(0,s.up)("InvoiceDetails"),w=(0,s.up)("Footer");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(p),(0,s.Wm)(m,{onReset:t[0]||(t[0]=function(e){return h.reset()}),onToggle:t[1]||(t[1]=function(e){return h.searching=!h.searching})}),o.searching?((0,s.wg)(),(0,s.iD)("div",a,[d.winner()?((0,s.wg)(),(0,s.j4)(v,{key:1,onUpdateInvoice:t[2]||(t[2]=function(e){return d.updateInvoice()}),quantity:this.quantity,sellerId:this.whowins},null,8,["quantity","sellerId"])):((0,s.wg)(),(0,s.j4)(f,{key:0,onSearch:d.searchQuerie},null,8,["onSearch"])),d.showSellers()?((0,s.wg)(),(0,s.j4)(g,{key:2,class:"margin-images",onImageSelected:t[3]||(t[3]=function(e){return h.selected=!0}),selected:this.selected,sellers:this.sellers},null,8,["selected","sellers"])):((0,s.wg)(),(0,s.iD)("div",i,c))])):((0,s.wg)(),(0,s.iD)("div",l,[(0,s.Wm)(b,{class:"margin-invoice",onDataUpdated:t[4]||(t[4]=function(e){return h.updateinvoice=!1}),updateinvoice:this.updateinvoice},null,8,["updateinvoice"])])),(0,s._)("div",u,[(0,s.Wm)(w,{class:"footer bg-dark text-light"})])])}var h=n(8534),p=(n(5666),n(1539),n(4916),n(4765),n(1058),function(e){return(0,s.dD)("data-v-f1ec88d8"),e=e(),(0,s.Cn)(),e}),m={class:"input-group search-div"},f=p((function(){return(0,s._)("input",{id:"image-search",type:"search",class:"form-control rounded border border-success",placeholder:"Type a query","aria-label":"Search","aria-describedby":"search-addon"},null,-1)}));function v(e,t,n,r,a,i){return(0,s.wg)(),(0,s.iD)("div",m,[f,(0,s._)("button",{onClick:t[0]||(t[0]=function(){return i.OnClick&&i.OnClick.apply(i,arguments)}),type:"button",class:"btn btn-outline-success"},"search")])}const g={name:"Search",methods:{OnClick:function(){this.$emit("search",document.querySelector("#image-search").value)}}};var b=n(3744);const w=(0,b.Z)(g,[["render",v],["__scopeId","data-v-f1ec88d8"]]),y=w;var k=function(e){return(0,s.dD)("data-v-5f913d8e"),e=e(),(0,s.Cn)(),e},_={class:"div-container text-white bg-dark"},D=k((function(){return(0,s._)("h1",null,"World Images",-1)})),j=[D];function S(e,t,n,r,a,i){return(0,s.wg)(),(0,s.iD)("div",_,j)}const I={name:"Header"},C=(0,b.Z)(I,[["render",S],["__scopeId","data-v-5f913d8e"]]),M=C;var Z={class:"container"},W={class:"row row-cols-1 row-cols-sm-1 row-cols-md-2 row-cols-lg-3 row-cols-xl-4 row-cols-xxl-5"};function x(e,t,n,r,a,i){var o=this,c=(0,s.up)("Seller");return(0,s.wg)(),(0,s.iD)("div",Z,[(0,s._)("div",W,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.sellers,(function(e){return(0,s.wg)(),(0,s.iD)("div",{key:e.id},[(0,s.Wm)(c,{onImageSelected:t[0]||(t[0]=function(e){return i.imageSelected()}),seller_info:e,selected:o.selected},null,8,["seller_info","selected"])])})),128))])])}n(8309);var Y=n(3577),q={class:"col seller"},N=["src"],z={class:"seller-info"},P={key:1};function R(e,t,n,r,a,i){return(0,s.wg)(),(0,s.iD)("div",q,[void 0!=this.seller_info.url&""!=this.seller_info.url?((0,s.wg)(),(0,s.iD)("img",{key:0,src:this.seller_info.url,class:"border border-success"},null,8,N)):(0,s.kq)("",!0),(0,s._)("div",z,[this.selected?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:0,class:"button btn-sm btn btn-outline-success",onClick:t[0]||(t[0]=function(){return i.onClick&&i.onClick.apply(i,arguments)})},"Select.")),(0,s._)("h6",null,(0,Y.zw)(n.seller_info.name)+" Score: "+(0,Y.zw)(this.seller_info.score)+"/20",1),this.seller_info.score>20?((0,s.wg)(),(0,s.iD)("h6",P,"Winner! ðŸŽ‰")):(0,s.kq)("",!0)])])}const T={name:"Seller",props:{seller_info:Object,selected:Boolean},methods:{onClick:function(){this.seller_info.score+=3;var e=new Headers;e.append("Authorization","Basic bWFyY29zcGVyZXpsYWJyYWRhMkBnbWFpbC5jb206YjllMjNkMjY0ZDc0NDE1ZmM0NmM="),e.append("Content-Type","text/plain"),e.append("Cookie","PHPSESSID=1jncfm0cfogkg919kcv5epb546");var t='{"observations":"'+this.seller_info.score+'"}',n={method:"PUT",headers:e,body:t,redirect:"follow"};fetch("https://api.alegra.com/api/v1/sellers/"+this.seller_info.id+"/",n),this.$emit("image-selected")}}},E=(0,b.Z)(T,[["render",R],["__scopeId","data-v-44019cca"]]),H=E,O={name:"Sellers",components:{Seller:H},props:{sellers:Array,selected:Boolean},methods:{imageSelected:function(){this.$emit("image-selected")}}},B=(0,b.Z)(O,[["render",x],["__scopeId","data-v-7728e3a3"]]),F=B;function G(e,t,n,r,a,i){return(0,s.wg)(),(0,s.iD)("div",null,"Made in Miami by Marcos Perez. ")}const A={name:"Search"},V=(0,b.Z)(A,[["render",G],["__scopeId","data-v-624dcf0e"]]),$=V;function X(e,t,n,r,a,i){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("button",{onClick:t[0]||(t[0]=function(e){return i.createInvoice()}),type:"button",class:"btn btn-outline-success btn-lg"},"Create Invoice.")])}n(9653);const J={name:"Invoice",props:{sellerId:Number,quantity:Number},methods:{createInvoice:function(){var e=this;return(0,h.Z)(regeneratorRuntime.mark((function t(){var n,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=new Headers,n.append("Authorization","Basic bWFyY29zcGVyZXpsYWJyYWRhMkBnbWFpbC5jb206YjllMjNkMjY0ZDc0NDE1ZmM0NmM="),n.append("Content-Type","text/plain"),n.append("Cookie","PHPSESSID=ns7578noisgltrp27u5lv38rq0"),r='{"seller":'+e.sellerId+',"date":"2022-02-23",\n"dueDate":"2022-02-23",\n"client":1,\n"items":[\n   {\n      "id":1,\n      "quantity":'+e.quantity+',\n      "price":1000\n   }\n]\n}',console.log(r),s={method:"POST",headers:n,body:r,redirect:"follow"},fetch("https://api.alegra.com/api/v1/invoices",s),e.$emit("update-invoice");case 9:case"end":return t.stop()}}),t)})))()}}},U=(0,b.Z)(J,[["render",X],["__scopeId","data-v-80c3305a"]]),Q=U;var K={class:"navbar navbar-light bg-dark some-padding"},L={class:"form-inline"};function ee(e,t,n,r,a,i){return(0,s.wg)(),(0,s.iD)("nav",K,[(0,s._)("form",L,[(0,s._)("button",{onClick:t[0]||(t[0]=function(e){return i.toggle1()}),class:(0,Y.C_)(["btn",this.searching?"btn-outline-success":"btn-sm btn-outline-success"]),type:"button"},"Search Images",2),(0,s._)("button",{onClick:t[1]||(t[1]=function(e){return i.toggle2()}),class:(0,Y.C_)(["btn",this.searching?"btn-sm btn-outline-success":"btn-outline-success"]),type:"button"},"View Last Invoice",2),(0,s._)("i",{onClick:t[2]||(t[2]=function(t){return e.$emit("reset")}),class:"fa-solid fa-rotate position text-success"})])])}const te={name:"Navbar",data:function(){return{searching:!0}},methods:{toggle1:function(){this.searching||(this.searching=!this.searching,this.$emit("toggle"))},toggle2:function(){this.searching&&(this.searching=!this.searching,this.$emit("toggle"))}}},ne=(0,b.Z)(te,[["render",ee],["__scopeId","data-v-35efe5b6"]]),re=ne;var se=function(e){return(0,s.dD)("data-v-0dffb63f"),e=e(),(0,s.Cn)(),e},ae=se((function(){return(0,s._)("h3",{class:"some-margin"},"Invoice Information:",-1)})),ie={key:0},oe={class:"some-margin"},ce={class:"some-margin"},le={class:"some-margin"},ue={class:"some-margin"},de={class:"some-margin"},he={class:"some-margin"},pe={class:"some-margin"};function me(e,t,n,r,a,i){return(0,s.wg)(),(0,s.iD)("div",null,[ae,this.data?((0,s.wg)(),(0,s.iD)("div",ie,[(0,s._)("p",oe,"Date: "+(0,Y.zw)(this.data.date),1),(0,s._)("p",ce,"Expiration: "+(0,Y.zw)(this.data.dueDate),1),(0,s._)("p",le,"Client: "+(0,Y.zw)(this.data.client.name),1),(0,s._)("p",ue,"Seller: "+(0,Y.zw)(this.data.seller.name),1),(0,s._)("p",de,"Items: "+(0,Y.zw)(this.data.items[0].name),1),(0,s._)("p",he,"Quantity: "+(0,Y.zw)(this.data.items[0].quantity),1),(0,s._)("p",pe,"Total: "+(0,Y.zw)(this.data.total)+" $",1)])):(0,s.kq)("",!0)])}const fe={name:"InvoiceDetails",props:{updateinvoice:Boolean},data:function(){return{data:void 0}},watch:{updateInvoice:function(){this.getdata()}},created:function(){var e=this;return(0,h.Z)(regeneratorRuntime.mark((function t(){var n,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=new Headers,n.append("Authorization","Basic bWFyY29zcGVyZXpsYWJyYWRhMkBnbWFpbC5jb206YjllMjNkMjY0ZDc0NDE1ZmM0NmM="),n.append("Cookie","PHPSESSID=1eljkp89m6c4aal8d8oq8m1id6"),r={method:"GET",headers:n,redirect:"follow"},t.next=6,fetch("https://api.alegra.com/api/v1/invoices/",r);case 6:return s=t.sent,t.next=9,s.json();case 9:s=t.sent,e.data=s[0];case 11:case"end":return t.stop()}}),t)})))()},methods:{getData:function(){var e=this;return(0,h.Z)(regeneratorRuntime.mark((function t(){var n,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=new Headers,n.append("Authorization","Basic bWFyY29zcGVyZXpsYWJyYWRhMkBnbWFpbC5jb206YjllMjNkMjY0ZDc0NDE1ZmM0NmM="),n.append("Cookie","PHPSESSID=1eljkp89m6c4aal8d8oq8m1id6"),r={method:"GET",headers:n,redirect:"follow"},t.next=6,fetch("https://api.alegra.com/api/v1/invoices/",r);case 6:return s=t.sent,t.next=9,s.json();case 9:s=t.sent,e.data=s[0],e.$emit("data-updated");case 12:case"end":return t.stop()}}),t)})))()}}},ve=(0,b.Z)(fe,[["render",me],["__scopeId","data-v-0dffb63f"]]),ge=ve,be={name:"App",components:{Search:y,Sellers:F,Header:M,Footer:$,Invoice:Q,Navbar:re,InvoiceDetails:ge},data:function(){return{sellers:[],selected:!1,search:"",whowins:0,quantity:0,searching:!0,updateinvoice:!1}},methods:{reset:function(){var e=this;return(0,h.Z)(regeneratorRuntime.mark((function t(){var n,r,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(n=new Headers,n.append("Authorization","Basic bWFyY29zcGVyZXpsYWJyYWRhMkBnbWFpbC5jb206YjllMjNkMjY0ZDc0NDE1ZmM0NmM="),n.append("Content-Type","text/plain"),n.append("Cookie","PHPSESSID=1jncfm0cfogkg919kcv5epb546"),r='{"observations":"0"}',s={method:"PUT",headers:n,body:r,redirect:"follow"},a=1;a<=e.sellers.length;a++)fetch("https://api.alegra.com/api/v1/sellers/"+a+"/",s),e.sellers[a-1].score=0;case 7:case"end":return t.stop()}}),t)})))()},updateInvoice:function(){this.updateinvoice=!0},winner:function(){for(var e=0,t=!1,n=0;n<this.sellers.length;n++)e+=this.sellers[n].score,this.sellers[n].score>20&&(this.whowins=n+1,t=!0);return this.quantity=e,t},showSellers:function(){return void 0!==this.sellers&&(0!==this.sellers.length&&""!==this.sellers[0].url)},searchQuerie:function(e){var t=this;return(0,h.Z)(regeneratorRuntime.mark((function n(){var r,s,a,i,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(0!=e.length){n.next=3;break}return alert("Please enter a query"),n.abrupt("return");case 3:if(e!==t.search){n.next=6;break}return alert("That is the same querie of the last time"),n.abrupt("return");case 6:return r="https://api.unsplash.com/search/photos?query="+e+"&client_id=aVDUlDlqBs8NRgG4PoOFClGMA_ssU1VljWhMv819CX0",s=new Headers,s.append("Cookie","ugid=345eaf3a1db118d65bf3f884de2638c35484680"),a={method:"GET",headers:s,redirect:"follow"},n.next=12,fetch(r,a);case 12:return i=n.sent,n.next=15,i.json();case 15:for(i=n.sent,0==i.total&&alert("The is not result for that query in the database"),o=0;o<t.sellers.length;o++)t.sellers[o].url=i.results[o%i.total].urls.thumb;t.selected=!1,t.search=e;case 20:case"end":return n.stop()}}),n)})))()}},created:function(){var e=this;return(0,h.Z)(regeneratorRuntime.mark((function t(){var n,r,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=new Headers,n.append("Authorization","Basic bWFyY29zcGVyZXpsYWJyYWRhMkBnbWFpbC5jb206YjllMjNkMjY0ZDc0NDE1ZmM0NmM="),n.append("Cookie","PHPSESSID=5cvmv84bo4ftjevhbntp9c1bs2"),r={method:"GET",headers:n,redirect:"follow"},t.next=6,fetch("https://api.alegra.com/api/v1/sellers/",r);case 6:return s=t.sent,t.next=9,s.json();case 9:for(s=t.sent,e.sellers=s,a=0;a<e.sellers.length;a++)e.sellers[a].url="",e.sellers[a].score=parseInt(e.sellers[a].observations);case 12:case"end":return t.stop()}}),t)})))()}},we=(0,b.Z)(be,[["render",d]]),ye=we;(0,r.ri)(ye).mount("#app")}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,(()=>{var e=[];n.O=(t,r,s,a)=>{if(!r){var i=1/0;for(u=0;u<e.length;u++){for(var[r,s,a]=e[u],o=!0,c=0;c<r.length;c++)(!1&a||i>=a)&&Object.keys(n.O).every((e=>n.O[e](r[c])))?r.splice(c--,1):(o=!1,a<i&&(i=a));if(o){e.splice(u--,1);var l=s();void 0!==l&&(t=l)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[r,s,a]}})(),(()=>{n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}})(),(()=>{n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={143:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var s,a,[i,o,c]=r,l=0;if(i.some((t=>0!==e[t]))){for(s in o)n.o(o,s)&&(n.m[s]=o[s]);if(c)var u=c(n)}for(t&&t(r);l<i.length;l++)a=i[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(u)},r=self["webpackChunkimagenes"]=self["webpackChunkimagenes"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n.O(void 0,[998],(()=>n(4835)));r=n.O(r)})();
//# sourceMappingURL=app.2a1b7661.js.map